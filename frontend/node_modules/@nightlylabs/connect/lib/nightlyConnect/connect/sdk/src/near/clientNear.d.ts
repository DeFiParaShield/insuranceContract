import EventEmitter from 'eventemitter3';
import WebSocket from 'isomorphic-ws';
import { SignedTransaction } from 'near-api-js/lib/transaction';
import { PublicKey } from 'near-api-js/lib/utils';
import { AppRequests } from '../types/AppRequest';
import { AppDataMessage, PendingRequestsMessage, ServerMessage } from '../types/ServerMessage';
export interface IBuild {
    url?: string;
    sessionId: string;
}
export interface IConnect {
    publicKey: PublicKey;
    sessionId: string;
    accountId: string;
    token?: string;
}
export interface NightlyClientEvents {
    newRequest(request: AppRequests): void;
    disconnect(): void;
}
export declare class ClientNear extends EventEmitter<NightlyClientEvents> {
    ws: WebSocket;
    events: {
        [key: string]: (data: any) => void;
    };
    sessionId: string;
    private constructor();
    static build: ({ sessionId, url }: IBuild) => Promise<{
        client: ClientNear;
        data: AppDataMessage;
    }>;
    connect: ({ publicKey, sessionId, token, accountId }: IConnect) => Promise<void>;
    getPendingRequests: () => Promise<PendingRequestsMessage>;
    private send;
    resolveSignTransaction: ({ requestId, signedTransactions }: IResolveSignTransaction) => Promise<ServerMessage>;
    resolveSignMessage: ({ requestId, signature }: IResolveSignMessage) => Promise<ServerMessage>;
    rejectRequest: (requestId: any) => Promise<ServerMessage>;
}
export interface IResolveSignTransaction {
    requestId: string;
    signedTransactions: SignedTransaction[];
}
export interface IResolveSignMessage {
    requestId: string;
    signature: Uint8Array;
}
