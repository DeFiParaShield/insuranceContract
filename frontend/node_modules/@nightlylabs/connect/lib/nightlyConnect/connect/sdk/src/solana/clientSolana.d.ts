import { PublicKey, Transaction } from '@solana/web3.js';
import EventEmitter from 'eventemitter3';
import WebSocket from 'isomorphic-ws';
import { AppRequests } from '../types/AppRequest';
import { AppDataMessage, PendingRequestsMessage, ServerMessage } from '../types/ServerMessage';
export interface IBuild {
    url?: string;
    sessionId: string;
}
export interface IConnect {
    publicKey: PublicKey;
    sessionId: string;
    metadata?: string;
    token?: string;
}
export interface NightlyClientEvents {
    newRequest(request: AppRequests): void;
    disconnect(): void;
}
export declare class ClientSolana extends EventEmitter<NightlyClientEvents> {
    ws: WebSocket;
    events: {
        [key: string]: (data: any) => void;
    };
    sessionId: string;
    private constructor();
    static build: ({ sessionId, url }: IBuild) => Promise<{
        client: ClientSolana;
        data: AppDataMessage;
    }>;
    connect: ({ publicKey, sessionId, token, metadata }: IConnect) => Promise<void>;
    getPendingRequests: () => Promise<PendingRequestsMessage>;
    private send;
    resolveSignTransaction: ({ requestId, signedTransactions }: IResolveSignSolanaTransaction) => Promise<ServerMessage>;
    resolveSignMessage: ({ requestId, signature }: IResolveSignSolanaMessage) => Promise<ServerMessage>;
    rejectRequest: (requestId: any) => Promise<ServerMessage>;
}
export interface IResolveSignSolanaTransaction {
    requestId: string;
    signedTransactions: Transaction[];
}
export interface IResolveSignSolanaMessage {
    requestId: string;
    signature: Uint8Array;
}
